# System Architecture Diagram

## Database Schema Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SCHOOL MANAGEMENT SYSTEM                         â”‚
â”‚                   Class Management Architecture                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   time_slots     â”‚         â”‚    subjects      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚         â”‚ id (PK)          â”‚
â”‚ day_of_week      â”‚         â”‚ subject_name     â”‚
â”‚ start_time       â”‚         â”‚ subject_code     â”‚
â”‚ end_time         â”‚         â”‚ credit_hours     â”‚
â”‚ academic_year    â”‚         â”‚ description      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                            â”‚
         â”‚                            â”‚
         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚    â”‚                                    â”‚
         â””â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
              â”‚         subject_classes                   â”‚
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
              â”‚ id (PK)                                   â”‚
              â”‚ subject_id (FK â†’ subjects)                â”‚
              â”‚ teacher_id (FK â†’ teachers)                â”‚
              â”‚ time_slot_id (FK â†’ time_slots)            â”‚
              â”‚ day_of_week                               â”‚
              â”‚ start_time, end_time                      â”‚
              â”‚ room_number                               â”‚
              â”‚ capacity                                  â”‚
              â”‚ class_type (lecture/practice/lab)         â”‚
              â”‚ section (M1, M2, A, B, etc.)              â”‚
              â”‚ join_code â­ (unique)                     â”‚
              â”‚ academic_year                             â”‚
              â”‚ semester                                  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚
                               â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚       student_enrollments                 â”‚
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
              â”‚ id (PK)                                   â”‚
              â”‚ student_id (FK â†’ students)                â”‚
              â”‚ subject_class_id (FK â†’ subject_classes)   â”‚
              â”‚ enrollment_method (admin/self-join)       â”‚
              â”‚ enrollment_status (active/dropped)        â”‚
              â”‚ enrolled_at                               â”‚
              â”‚ final_grade                               â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                             â”‚
                â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    students      â”‚         â”‚    teachers      â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ id (PK)          â”‚         â”‚ id (PK)          â”‚
    â”‚ user_id (FK)     â”‚         â”‚ user_id (FK)     â”‚
    â”‚ student_code     â”‚         â”‚ teacher_code     â”‚
    â”‚ class_id         â”‚         â”‚ specialization   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Workflow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        WORKFLOW SEQUENCE                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: ADMIN CREATES TIMETABLE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Admin      â”‚
â”‚  Dashboard  â”‚â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                     â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Create Time Slots   â”‚
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
          â”‚ Monday 7:00-8:00 AM  â”‚
          â”‚ Monday 8:00-9:00 AM  â”‚
          â”‚ Tuesday 10:00-11:00  â”‚
          â”‚ ...                  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   time_slots table   â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Step 2: ADMIN/TEACHER CREATES CLASSES
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Admin      â”‚       â”‚  Teacher    â”‚
â”‚  Dashboard  â”‚       â”‚  Dashboard  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  Create Class Form   â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚ Subject: Math        â”‚
       â”‚ Teacher: Prof. Smith â”‚
       â”‚ Schedule: Mon 7-8 AM â”‚
       â”‚ Room: 301            â”‚
       â”‚ Capacity: 30         â”‚
       â”‚ Section: M1          â”‚
       â”‚ Type: Lecture        â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ Generate Join Code   â”‚
       â”‚    "ABC123XY"        â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ subject_classes      â”‚
       â”‚ table                â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Step 3a: ADMIN ASSIGNS STUDENTS (Optional)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Admin      â”‚
â”‚  Dashboard  â”‚â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                     â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ Select Student       â”‚
          â”‚ Select Class         â”‚
          â”‚ Click "Assign"       â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ student_enrollments  â”‚
          â”‚ method: "admin"      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Step 3b: STUDENT JOINS WITH CODE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Student    â”‚
â”‚  Dashboard  â”‚â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                     â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Click "Join Class"  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Enter Join Code:    â”‚
          â”‚    "ABC123XY"        â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Validate Code       â”‚
          â”‚  âœ“ Code exists       â”‚
          â”‚  âœ“ Not full (28/30)  â”‚
          â”‚  âœ“ Not enrolled yet  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ student_enrollments  â”‚
          â”‚ method: "self-join"  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Step 4: VIEW & MANAGE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Admin      â”‚       â”‚  Teacher    â”‚       â”‚  Student    â”‚
â”‚  Dashboard  â”‚       â”‚  Dashboard  â”‚       â”‚  Dashboard  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚                     â”‚
       â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ View all     â”‚    â”‚ My Classes   â”‚     â”‚ My Classes   â”‚
â”‚ enrollments  â”‚    â”‚ â€¢ Math M1    â”‚     â”‚ â€¢ Math M1    â”‚
â”‚              â”‚    â”‚   Code: ABC  â”‚     â”‚   Mon 7-8AM  â”‚
â”‚ Export       â”‚    â”‚   28/30      â”‚     â”‚   Room 301   â”‚
â”‚ reports      â”‚    â”‚              â”‚     â”‚              â”‚
â”‚              â”‚    â”‚ [Attendance] â”‚     â”‚ [Join More]  â”‚
â”‚              â”‚    â”‚ [Grades]     â”‚     â”‚ [View]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DATA FLOW                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CREATE CLASS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    POST /api/subject-classes     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  API     â”‚
â”‚ (Admin/  â”‚                                   â”‚  Route   â”‚
â”‚ Teacher) â”‚                                   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
                                                    â”‚ 1. Validate data
                                                    â”‚ 2. Generate join_code
                                                    â–¼
                                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                             â”‚  Supabase   â”‚
                                             â”‚  Database   â”‚
                                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                    â”‚
                                                    â”‚ INSERT INTO
                                                    â”‚ subject_classes
                                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    Response { join_code }        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  API     â”‚
â”‚          â”‚    "ABC123XY"                    â”‚  Route   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


JOIN CLASS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    POST /api/student-enrollments  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend â”‚    { join_code: "ABC123XY" }      â”‚  API     â”‚
â”‚ (Student)â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶   â”‚  Route   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                                                     â”‚
                                                     â”‚ 1. Get user from auth
                                                     â”‚ 2. Find class by code
                                                     â”‚ 3. Check capacity
                                                     â”‚ 4. Check if enrolled
                                                     â–¼
                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                              â”‚  Supabase   â”‚
                                              â”‚  Database   â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                     â”‚
                                                     â”‚ INSERT INTO
                                                     â”‚ student_enrollments
                                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    Response { success }           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚  API     â”‚
â”‚          â”‚                                   â”‚  Route   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


GET ENROLLMENTS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    GET /api/student-enrollments   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend â”‚    ?student_id=xxx                â”‚  API     â”‚
â”‚ (Student)â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶   â”‚  Route   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                                                     â”‚
                                                     â”‚ Query view with JOINs
                                                     â–¼
                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                              â”‚  Supabase   â”‚
                                              â”‚  Database   â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                     â”‚
                                                     â”‚ SELECT FROM
                                                     â”‚ v_student_enrollments_detailed
                                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    Response { enrollments[] }    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  API     â”‚
â”‚          â”‚    [{ subject, teacher, ... }]   â”‚  Route   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## UI Component Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      UI COMPONENT HIERARCHY                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ADMIN DASHBOARD
â”‚
â”œâ”€â”€ Overview Tab
â”‚   â”œâ”€â”€ Stats Cards
â”‚   â””â”€â”€ Quick Actions
â”‚
â”œâ”€â”€ Timetable Tab â­ NEW
â”‚   â”œâ”€â”€ Time Slots Grid
â”‚   â”œâ”€â”€ Add Time Slot Dialog
â”‚   â””â”€â”€ Delete Confirmation
â”‚
â”œâ”€â”€ Subjects Tab â­ NEW
â”‚   â”œâ”€â”€ Subjects List
â”‚   â”œâ”€â”€ Add Subject Dialog
â”‚   â””â”€â”€ Edit/Delete Actions
â”‚
â”œâ”€â”€ Class Schedule Tab â­ NEW (replaces old Classes)
â”‚   â”œâ”€â”€ Subject Classes List
â”‚   â”‚   â”œâ”€â”€ Class Card
â”‚   â”‚   â”‚   â”œâ”€â”€ Subject Name
â”‚   â”‚   â”‚   â”œâ”€â”€ Teacher Name
â”‚   â”‚   â”‚   â”œâ”€â”€ Schedule
â”‚   â”‚   â”‚   â”œâ”€â”€ Room Number
â”‚   â”‚   â”‚   â”œâ”€â”€ Join Code â­
â”‚   â”‚   â”‚   â””â”€â”€ Capacity (28/30)
â”‚   â”‚   â””â”€â”€ Actions (Edit, Delete, View)
â”‚   â””â”€â”€ Create Class Dialog
â”‚       â”œâ”€â”€ Select Subject
â”‚       â”œâ”€â”€ Select Teacher
â”‚       â”œâ”€â”€ Choose Time Slot
â”‚       â”œâ”€â”€ Enter Room
â”‚       â”œâ”€â”€ Set Capacity
â”‚       â””â”€â”€ Specify Section
â”‚
â””â”€â”€ Enrollments Tab â­ NEW
    â”œâ”€â”€ Enrollments List
    â”œâ”€â”€ Filter Options
    â”œâ”€â”€ Manual Enroll Dialog
    â””â”€â”€ Export Button


TEACHER DASHBOARD
â”‚
â”œâ”€â”€ Overview Tab
â”‚   â”œâ”€â”€ Stats Cards
â”‚   â”‚   â”œâ”€â”€ My Classes Count
â”‚   â”‚   â”œâ”€â”€ Total Students
â”‚   â”‚   â””â”€â”€ Classes This Week
â”‚   â””â”€â”€ Quick Actions
â”‚
â””â”€â”€ My Classes Tab â­ UPDATED
    â”œâ”€â”€ Classes List
    â”‚   â”œâ”€â”€ Class Card
    â”‚   â”‚   â”œâ”€â”€ Subject Name & Section
    â”‚   â”‚   â”œâ”€â”€ Schedule (Day, Time)
    â”‚   â”‚   â”œâ”€â”€ Room Number
    â”‚   â”‚   â”œâ”€â”€ Join Code â­ (prominent)
    â”‚   â”‚   â”œâ”€â”€ Enrolled Count/Capacity
    â”‚   â”‚   â””â”€â”€ Actions
    â”‚   â”‚       â”œâ”€â”€ View Students
    â”‚   â”‚       â”œâ”€â”€ Mark Attendance
    â”‚   â”‚       â””â”€â”€ Enter Grades
    â”‚   â””â”€â”€ Create Class Button â­
    â”‚
    â”œâ”€â”€ View Students Dialog
    â”œâ”€â”€ Mark Attendance Dialog
    â””â”€â”€ Enter Grades Dialog


STUDENT DASHBOARD
â”‚
â”œâ”€â”€ Overview Tab
â”‚   â”œâ”€â”€ Stats Cards
â”‚   â”œâ”€â”€ Active Classes Preview
â”‚   â””â”€â”€ Quick Actions
â”‚       â””â”€â”€ Join Class Button â­
â”‚
â”œâ”€â”€ My Classes Tab â­ UPDATED
â”‚   â”œâ”€â”€ Enrolled Classes Grid
â”‚   â”‚   â”œâ”€â”€ Class Card
â”‚   â”‚   â”‚   â”œâ”€â”€ Subject Name
â”‚   â”‚   â”‚   â”œâ”€â”€ Teacher Name
â”‚   â”‚   â”‚   â”œâ”€â”€ Schedule
â”‚   â”‚   â”‚   â”œâ”€â”€ Room Number
â”‚   â”‚   â”‚   â”œâ”€â”€ Section
â”‚   â”‚   â”‚   â””â”€â”€ View Details Button
â”‚   â”‚   â””â”€â”€ Empty State
â”‚   â”‚       â””â”€â”€ "Join your first class!"
â”‚   â””â”€â”€ Join Class Dialog â­ NEW
â”‚       â”œâ”€â”€ Join Code Input
â”‚       â”‚   â”œâ”€â”€ Placeholder: "ABC123XY"
â”‚       â”‚   â”œâ”€â”€ Auto-uppercase
â”‚       â”‚   â””â”€â”€ Max 8 characters
â”‚       â”œâ”€â”€ Join Button
â”‚       â””â”€â”€ Error Messages
â”‚           â”œâ”€â”€ Invalid code
â”‚           â”œâ”€â”€ Class full
â”‚           â””â”€â”€ Already enrolled
â”‚
â”œâ”€â”€ Attendance Tab
â””â”€â”€ Grades Tab
```

## User Journey Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER JOURNEY: STUDENT A                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Day 1: SEMESTER STARTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Teacher: "Here's the join code for Math M1: ABC123XY"

Student A:
  1. Opens Student Dashboard
  2. Sees "You have 0 classes"
  3. Clicks "Join Class"
  4. Enters "ABC123XY"
  5. Clicks "Join"
  6. âœ“ Success! "You've joined Math M1 Lecture"
  7. Class appears in "My Classes"


Day 2: JOIN MORE CLASSES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Teacher emails codes:
- Math M2 Practice: DEF456ZW
- Physics Lecture: GHI789AB

Student A:
  Repeats process for each code
  Now has 3 classes enrolled


Week 1: ATTEND CLASSES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Monday 7:00 AM
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ My Classes           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“š Math M1 Lecture   â”‚
â”‚ NOW â€¢ Room 301       â”‚
â”‚ Prof. Smith          â”‚
â”‚ [Join] â­ (for     â”‚
â”‚  online session)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Monday 8:00 AM
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“š Math M2 Practice  â”‚
â”‚ NOW â€¢ Room 101       â”‚
â”‚ Prof. Smith          â”‚
â”‚ [Join]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Week 4: CHECK GRADES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Student A:
  1. Clicks on "Math M1 Lecture"
  2. Views "Grades" tab
  3. Sees:
     - Quiz 1: 85/100
     - Assignment 1: 45/50
     - Current: B+


End of Semester: VIEW TRANSCRIPT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Student A:
  Dashboard shows:
  
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ My Classes (7 Completed)     â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Math M1 Lecture       A  4.0 â”‚
  â”‚ Math M2 Practice      B+ 3.5 â”‚
  â”‚ Physics Lecture       A- 3.7 â”‚
  â”‚ English Writing       B  3.0 â”‚
  â”‚ Programming Lab       A+ 4.0 â”‚
  â”‚ Database Theory       A  4.0 â”‚
  â”‚ Network Practice      B+ 3.5 â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Overall GPA:          3.67   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Security & Access Control

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ROLE-BASED PERMISSIONS                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TIME SLOTS:
  Admin   Teacher  Student
  â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€
  âœ“ View  âœ“ View   âœ— View
  âœ“ Create âœ— Create âœ— Create
  âœ“ Edit   âœ— Edit   âœ— Edit
  âœ“ Delete âœ— Delete âœ— Delete

SUBJECTS:
  Admin   Teacher  Student
  â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€
  âœ“ View  âœ“ View   âœ“ View
  âœ“ Create âœ— Create âœ— Create
  âœ“ Edit   âœ— Edit   âœ— Edit
  âœ“ Delete âœ— Delete âœ— Delete

SUBJECT CLASSES:
  Admin   Teacher  Student
  â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€
  âœ“ View All âœ“ View Own âœ“ View Available
  âœ“ Create   âœ“ Create   âœ— Create
  âœ“ Edit All âœ“ Edit Own âœ— Edit
  âœ“ Delete   âœ“ Delete   âœ— Delete

ENROLLMENTS:
  Admin   Teacher  Student
  â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€
  âœ“ View All âœ“ View Class âœ“ View Own
  âœ“ Enroll   âœ— Enroll     âœ“ Self-Join
  âœ“ Drop     âœ— Drop       âœ“ Drop Own
```

---

**Legend:**
- â­ = New feature
- (PK) = Primary Key
- (FK) = Foreign Key
- âœ“ = Allowed
- âœ— = Not allowed
- â†’ = Relationship
